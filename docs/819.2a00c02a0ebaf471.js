"use strict";(self.webpackChunkwp_api=self.webpackChunkwp_api||[]).push([[819],{4819:(S,l,r)=>{r.r(l),r.d(l,{HomeModule:()=>J});var u=r(4857),p=r(3966),h=r(1644),t=r(4791),c=r(2951),i=r(8490);let g=(()=>{class n{constructor(e){this.noAuthRequestsService=e,this.searchItem="",this.n=0,this.postEmitter=new t.vpe}ngOnInit(){}onSearch(e){this.searchItem=e.target.value,this.noAuthRequestsService.searchInPosts(`${this.searchItem}`).subscribe(o=>{this.n=o.length,this.postEmitter.emit(o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menus"]],inputs:{n:"n"},outputs:{postEmitter:"postEmitter"},decls:14,vars:1,consts:[[1,"col-md-4","mb-3"],["for","filterMenu"],["id","filterMenu",1,"form-select"],["value","0","selected",""],[1,"input-group","mb-3"],["type","text","id","searchBox","placeholder","Search in posts...",1,"form-control","is-valid",3,"input"],["type","submit",1,"input-group-text"],[1,"fa-solid","fa-magnifying-glass"],[1,"invalid-feedback"],[1,"valid-feedback"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2,"Filter posts by:"),t.qZA(),t.TgZ(3,"select",2)(4,"option",3),t._uU(5,"All Posts"),t.qZA()()(),t.TgZ(6,"div",4)(7,"input",5),t.NdJ("input",function(m){return o.onSearch(m)}),t.qZA(),t.TgZ(8,"button",6),t._UZ(9,"i",7),t.qZA(),t.TgZ(10,"div",8),t._uU(11," Pattern not found "),t.qZA(),t.TgZ(12,"div",9),t._uU(13),t.qZA()()),2&e&&(t.xp6(13),t.hij(" ",o.n," items found "))},directives:[i.YN,i.Kr],encapsulation:2}),n})(),f=(()=>{class n{constructor(e){this.router=e,this.authEvent=new t.vpe,this.username=localStorage.getItem("username")}onLogout(){localStorage.clear(),this.authEvent.emit("")}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth-sidebar"]],outputs:{authEvent:"authEvent"},decls:6,vars:1,consts:[["routerLink","/create-post",1,"btn","btn-outline-info"],[1,"btn","btn-outline-danger",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA(),t.TgZ(2,"button",0),t._uU(3,"Create New Post"),t.qZA(),t.TgZ(4,"button",1),t.NdJ("click",function(){return o.onLogout()}),t._uU(5,"Logout"),t.qZA()),2&e&&(t.xp6(1),t.hij("Welcome, ",o.username,""))},directives:[p.rH],encapsulation:2}),n})(),_=(()=>{class n{ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-no-auth-sidebar"]],decls:3,vars:0,consts:[["routerLink","/posts/login",1,"btn","btn-success"]],template:function(e,o){1&e&&(t._uU(0,"Login to create new post and comment.\n"),t.TgZ(1,"button",0),t._uU(2,"Login"),t.qZA())},directives:[p.rH],encapsulation:2}),n})(),b=(()=>{class n{constructor(){this.comment=""}ngOnInit(){}onCreate(){console.log("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comment"]],decls:3,vars:0,consts:[["type","text","placeholder","Write a comment...",1,"form-control",3,"input"],[1,"btn","btn-outline-primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"input",0),t.NdJ("input",function(){return o.comment}),t.qZA(),t.TgZ(1,"button",1),t.NdJ("click",function(){return o.onCreate()}),t._uU(2,"Add comment"),t.qZA())},encapsulation:2}),n})();const Z=function(n){return[n]};function v(n,s){if(1&n&&(t.TgZ(0,"span",14)(1,"a",15),t._uU(2,"See more"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,Z,e.id))}}const C=function(n){return["edit-post",n]};function T(n,s){if(1&n&&(t.TgZ(0,"a",16),t._uU(1,"Edit this"),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,C,e.id))}}function A(n,s){1&n&&t._UZ(0,"app-comment")}function U(n,s){if(1&n&&(t.TgZ(0,"div",2)(1,"p",3),t._uU(2),t.qZA(),t.TgZ(3,"div",4),t._UZ(4,"img",5),t.TgZ(5,"div",6)(6,"h5",7),t._uU(7),t.qZA(),t._UZ(8,"p",8)(9,"i",9),t._uU(10),t._UZ(11,"br")(12,"i",10),t._uU(13),t.ALo(14,"date"),t.YNc(15,v,3,3,"span",11),t.YNc(16,T,2,3,"a",12),t.qZA()(),t.YNc(17,A,1,0,"app-comment",13),t.qZA()),2&n){const e=s.$implicit,o=t.oxw();t.xp6(2),t.hij("",e.id,":"),t.xp6(2),t.Q6J("src",e.imageLink,t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(1),t.Q6J("innerHTML",o.posts.length<2?e.content:e.excerpt,t.oJD),t.xp6(2),t.Oqu(e.authorName),t.xp6(3),t.hij(" ",t.xi3(14,9,e.date,"short")," "),t.xp6(2),t.Q6J("ngIf",o.posts.length>1),t.xp6(1),t.Q6J("ngIf",e.authorName==o.username),t.xp6(1),t.Q6J("ngIf",!!o.username)}}let q=(()=>{class n{constructor(){this.posts=[],this.username=""}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-post"]],inputs:{posts:"posts",username:"username"},decls:2,vars:1,consts:[[1,"row"],["class","col-md-6 col-lg-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4","mb-3"],[1,"fs-1"],[1,"card"],["alt","Picture not available",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-center","fs-3"],[1,"card-text",3,"innerHTML"],[1,"fa-solid","fa-user","m-2"],[1,"fa-regular","fa-calendar-days","m-2"],["class","",4,"ngIf"],["class","btn btn-warning ms-1",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,""],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-warning","ms-1",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,U,18,12,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.posts))},directives:[u.sg,u.O5,p.yS,b],pipes:[u.uU],encapsulation:2}),n})();function x(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-auth-sidebar",11),t.NdJ("authEvent",function(a){return t.CHM(e),t.oxw().onAuthStateChange(a)}),t.qZA()}}function y(n,s){1&n&&t._UZ(0,"app-no-auth-sidebar")}let d=(()=>{class n{constructor(e,o){this.noAuthRequests=e,this.route=o,this.posts=[],this.staticPosts=[],this.username=localStorage.getItem("username")}ngOnInit(){if(this.route.snapshot.paramMap.get("id")){let e=this.route.snapshot.paramMap.get("id");this.noAuthRequests.getPost(`${e}`).subscribe(o=>{this.posts.length=0,this.posts.push(o)})}else this.noAuthRequests.getPosts().subscribe(e=>{this.staticPosts=e,this.posts=e})}handlePost(e){this.posts=this.staticPosts.filter(o=>e.includes(o.id))}onAuthStateChange(e){this.username=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.R),t.Y36(p.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col","text-center"],[1,"fs-3"],["routerLink","/"],[1,"col-sm-6"],[3,"n","postEmitter"],[1,"col-sm-6","text-center"],[3,"authEvent",4,"ngIf"],[4,"ngIf"],[3,"posts","username"],[3,"authEvent"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3)(4,"a",4),t._uU(5,"Home"),t.qZA()()(),t.TgZ(6,"div",1)(7,"div",5)(8,"app-menus",6),t.NdJ("postEmitter",function(m){return o.handlePost(m)}),t.qZA()(),t.TgZ(9,"div",7),t.YNc(10,x,1,0,"app-auth-sidebar",8),t.YNc(11,y,1,0,"app-no-auth-sidebar",9),t.qZA()(),t._UZ(12,"app-post",10),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("n",o.posts.length),t.xp6(2),t.Q6J("ngIf",!!o.username),t.xp6(1),t.Q6J("ngIf",!o.username),t.xp6(1),t.Q6J("posts",o.posts)("username",o.username))},directives:[p.yS,g,u.O5,f,_,q],encapsulation:2}),n})();const L=[{path:"",component:d},{path:"login",component:(()=>{class n{constructor(e,o,a){this.noAuthRequests=e,this.fb=o,this.router=a,this.loginForm=this.fb.group({username:"",password:""})}handleLogin(){this.noAuthRequests.validateUser(this.loginForm.value).subscribe({next:e=>{localStorage.setItem("token",e.token),localStorage.setItem("username",e.user_display_name),this.router.navigateByUrl("/posts")}})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.R),t.Y36(i.qu),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:1,consts:[[3,"formGroup","submit"],[1,"mb-3"],[1,"form-floating","mb-3"],["type","text","id","username","formControlName","username","placeholder","Username",1,"form-control"],["for","username"],["autocomplete","current-password","type","password","formControlName","password","id","password","placeholder","Password",1,"form-control"],["for","password"],["id","signin-validation"],["type","submit",1,"btn","btn-success","d-grid","col-7","mx-auto"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return o.handleLogin()}),t.TgZ(1,"fieldset")(2,"legend",1),t._uU(3,"Login to participate..."),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"input",3),t.TgZ(6,"label",4),t._uU(7,"* Username"),t.qZA()(),t.TgZ(8,"div",2),t._UZ(9,"input",5),t.TgZ(10,"label",6),t._uU(11,"* Password"),t.qZA()(),t._UZ(12,"div",7),t.TgZ(13,"button",8),t._uU(14,"Login"),t.qZA()()()),2&e&&t.Q6J("formGroup",o.loginForm)},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u],encapsulation:2}),n})()},{path:":id",component:d}];let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,p.Bz.forChild(L),h.JF,i.UX]]}),n})()}}]);